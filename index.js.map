{"version":3,"file":"index.js","sources":["../src/js/config.js","../src/js/api-artists.js","../src/js/header-mob-menu.js","../src/js/hero.js","../src/js/artists.js","../src/js/artist-modal.js","../src/img/feedback/star-filled.webp","../src/img/feedback/star-empty.webp","../src/js/feedback.js"],"sourcesContent":["export const API_BASE = 'https://sound-wave.b.goit.study/api';\nexport const DEFAULT_PAGE = 1;\nexport const ARTISTS_PAGE_LIMIT = 8;\nexport const REQUEST_TIMEOUT_MS = 10_000;\nexport const FEEDBACKS_LIMIT = 10;\n","import axios from 'axios';\nimport {API_BASE, DEFAULT_PAGE, ARTISTS_PAGE_LIMIT} from './config.js';\n\nexport async function fetchArtists(page = DEFAULT_PAGE, perPage = ARTISTS_PAGE_LIMIT) {\n  const response = await axios.get(`${API_BASE}/artists`, {\n    params: {\n      page,\n      limit: perPage,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchArtistById(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}`);\n  return response.data;\n}\n\nexport async function fetchArtistAlbums(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}/albums`);\n  return response.data;\n}\n\nexport async function fetchGenres() {\n  const response = await axios.get(`${API_BASE}/genres`);\n  return response.data;\n}\n\nexport async function fetchFeedbacks() {\n  try {\n    const response = await axios.get(`${API_BASE}/feedbacks`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to load feedbacks', {cause: error});\n  }\n}\n","document.querySelectorAll('.nav-list a').forEach(link => {\n  link.addEventListener('click', () => {\n    document.getElementById('nav-toggle').checked = false;\n  });\n});\n\n// 4 На мобільних пристроях навігаційне меню ховається в бургер-меню.","/**\n * Підключає плавний скрол до секції #artists по кліку на кнопку Explore Artists.\n */\nfunction setupExploreScroll() {\n  const exploreBtn = document.querySelector('#btn-hero-js');\n\n  if (exploreBtn) {\n    exploreBtn.addEventListener('click', () => {\n      const targetSection = document.querySelector('#artists');\n      if (targetSection) {\n        targetSection.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    });\n  }\n}\n\n// Ініціалізація Hero після завантаження DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupExploreScroll();\n});\n","import {fetchArtists} from './api-artists';\n// import {openArtistModal} from './artist-modal';\n\nconst list = document.getElementById('artistsList');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\nconst loader = document.getElementById('artistsLoader');\n\nlet page = 1;\nconst PER_PAGE = 8;\n\n// LOAD ARTISTS\n\nasync function loadArtists() {\n  try {\n    showLoader();\n\n    const data = await fetchArtists(page, PER_PAGE);\n    const artists = data.artists || data;\n\n    renderArtists(artists);\n\n    if (artists.length < PER_PAGE) {\n      loadMoreBtn.classList.add('is-hidden');\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n\n    page += 1;\n  } catch (error) {\n    console.error('Failed to load artists:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\n// RENDER\n\nfunction renderArtists(artists) {\n  if (!Array.isArray(artists)) return;\n\n  const markup = artists\n    .map(({_id, strArtist, strArtistThumb, genres, strBiographyEN}) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n        <li class=\"artist-card\" data-id=\"${_id}\">\n          <div class=\"artist-thumb\">\n            <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" class=\"artist-img\" loading=\"lazy\">\n          </div>\n\n          <div class=\"artist-content\">\n            <div class=\"artist-genres\">${genresMarkup}</div>\n            <h3 class=\"artist-name\">${strArtist}</h3>\n            <p class=\"artist-bio\">${strBiographyEN}</p>\n            <button class=\"artist-more\" type=\"button\">Learn more</button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  list.insertAdjacentHTML('beforeend', markup);\n}\n\n// LOADER\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\n// INIT\n\nloadArtists();\n\n// EVENT\n\nloadMoreBtn.addEventListener('click', loadArtists);\n","import {fetchArtistById} from './api-artists';\nimport {fetchArtistAlbums} from './api-artists';\n\nconst modalContent = document.querySelector('.modal-content');\nconst closeModalBtn = document.querySelector('.modal-close-btn');\nconst backdrop = document.querySelector('.backdrop');\nconst modalLoader = document.getElementById('modalLoader');\n\nfunction createArtistMarkup(artist, albums = []) {\n  const {\n    strArtist: artistName,\n    strArtistThumb: artistImage,\n    intFormedYear: formedYear,\n    intDiedYear: endedYear,\n    strGender: gender,\n    intMembers: membersCount,\n    strCountry: country,\n    strBiographyEN: biography,\n    genres,\n  } = artist;\n\n  return `\n    <h2 class=\"artist-title\">${artistName}</h2>\n\n<div class=\"artist-container\">\n  <div class=\"artist-image\">\n    <img src=\"${artistImage}\" alt=\"${artistName || 'Artist'}\">\n  </div>\n\n  <div class=\"artist-info\">\n    <div class=\"info-row\">\n      <span class=\"label\">Years active</span>\n      <span class=\"value\">${formatYears(formedYear, endedYear)}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Sex</span>\n      <span class=\"value\">${gender ?? '—'}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Members</span>\n      <span class=\"value\">${membersCount ?? '—'}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Country</span>\n      <span class=\"value\">${country ?? '—'}</span>\n    </div>\n\n    <div class=\"info-row info-row--bio\">\n      <span class=\"label\">Biography</span>\n      <span class=\"value\">${biography ?? '—'}</span>\n    </div>\n\n       <div class=\"info-row info-row--genres\">\n    <ul class=\"info-genres\">\n      ${(genres || []).map(genre => `<li class=\"info-genre\">${genre || ''}</li>`).join('')}\n    </ul>\n   </div>\n  </div>\n</div>\n\n    ${createAlbumsSectionMarkup(albums)}\n\n  `;\n}\n\nfunction isMissingValue(val) {\n  if (val == null || val === '') return true;\n  const s = String(val).trim().toLowerCase();\n  return s === '' || s === 'information missing';\n}\n\nfunction formatYears(formedYear, endedYear) {\n  const hasStart = !isMissingValue(formedYear);\n  const hasEnd = !isMissingValue(endedYear);\n  if (!hasStart && !hasEnd) return 'Information missing';\n  if (hasStart && !hasEnd) return `${formedYear}–present`;\n  if (!hasStart && hasEnd) return `until ${endedYear}`;\n  return `${formedYear}–${endedYear}`;\n}\n\nexport async function openArtistModal(artistId) {\n  backdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  addModalEventListeners();\n\n  try {\n    showModalLoader();\n    const artist = await fetchArtistById(artistId);\n    const albumsData = await fetchArtistAlbums(artistId);\n    const albums = (albumsData.albumsList || [])\n      .slice()\n      .sort((a, b) => (b.intYearReleased || 0) - (a.intYearReleased || 0));\n    modalContent.innerHTML = createArtistMarkup(artist, albums);\n  } catch (error) {\n    console.log(error);\n    modalContent.innerHTML = `\n      <p class=\"error\">Failed to load artist information</p>\n    `;\n  } finally {\n    hideModalLoader();\n  }\n}\n\nfunction closeModal() {\n  removeModalEventListeners();\n\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n\n  modalContent.innerHTML = '';\n}\n\nfunction onEscKeydown(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === backdrop) {\n    closeModal();\n  }\n}\n\nfunction addModalEventListeners() {\n  closeModalBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscKeydown);\n  backdrop.addEventListener('click', onBackdropClick);\n}\n\nfunction removeModalEventListeners() {\n  closeModalBtn.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', onEscKeydown);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n\nexport function showModalLoader() {\n  modalLoader.classList.remove('is-hidden');\n}\n\nfunction hideModalLoader() {\n  modalLoader.classList.add('is-hidden');\n}\n\nconst list = document.getElementById('artistsList');\n\nlist.addEventListener('click', async e => {\n  if (e.target.classList.contains('artist-more')) {\n    const artistCard = e.target.closest('.artist-card');\n    if (!artistCard) return;\n\n    const artistId = artistCard.dataset.id;\n\n    try {\n      await openArtistModal(artistId);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});\n\n// ALBUM\n\nfunction formatDuration(ms) {\n  if (!ms) return '--:--';\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n}\n\nfunction createTrackMarkup(track) {\n  const {strTrack, intDuration, movie, strMusicVid, strVideo} = track;\n  const youtubeUrl = movie || strMusicVid || strVideo;\n\n  return `\n    <li class=\"track\">\n      <span class=\"track-name\">${strTrack ?? ''}</span>\n      <span class=\"track-time\">${formatDuration(intDuration)}</span>\n\n      ${\n        youtubeUrl && String(youtubeUrl).trim()\n          ? `\n        <a\n          class=\"track-link\"\n          href=\"${youtubeUrl}\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          aria-label=\"Open ${strTrack || 'track'} on YouTube\">\n          <svg class=\"youtube-icon\" width=\"20\" height=\"14\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n            <path\n              d=\"M23.5 6.2s-.2-1.7-.8-2.4c-.7-.8-1.5-.8-1.9-.9C17.9 2.5 12 2.5 12 2.5h0s-5.9 0-8.8.4c-.4.1-1.2.1-1.9.9-.6.7-.8 2.4-.8 2.4S0 8.1 0 10v1.9c0 1.9.2 3.8.2 3.8s.2 1.7.8 2.4c.7.8 1.6.8 2 .9 1.5.2 6.8.4 8.9.4s5.9 0 8.8-.4c.4-.1 1.2-.1 1.9-.9.6-.7.8-2.4.8-2.4s.2-1.9.2-3.8V10c0-1.9-.2-3.8-.2-3.8zM9.5 14.7V7.3l6.3 3.7-6.3 3.7z\"\n              fill=\"currentColor\"></path>\n          </svg>\n        </a>`\n          : ''\n      }\n    </li>\n  `;\n}\n\nfunction createAlbumMarkup(album) {\n  const {strAlbum, intYearReleased, tracks = []} = album;\n\n  return `\n    <div class=\"album-card\">\n      <h3 class=\"album-title\">\n        ${strAlbum}\n        <span class=\"album-year\">(${intYearReleased})</span>\n      </h3>\n\n      <div class=\"tracks-header\">\n        <span>Track</span>\n        <span>Time</span>\n        <span>Link</span>\n      </div>\n\n      <ul class=\"tracks-list\">\n        ${tracks.map(createTrackMarkup).join('')}\n      </ul>\n    </div>\n  `;\n}\n\nfunction createAlbumsSectionMarkup(albums) {\n  if (!albums || !albums.length) return '';\n\n  return `\n    <section class=\"albums\">\n      <h2 class=\"albums-title\">Albums</h2>\n      <div class=\"albums-list\">\n        ${albums.map(createAlbumMarkup).join('')}\n      </div>\n    </section>\n  `;\n}\n","export default \"data:image/webp;base64,UklGRiQBAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSH0AAAABcEhte918CEX4EYpQhCDEYEH4DVaDzmAzKMIQfoQgvLvkUoSImAD1b3fNG2xzB+xTBtRlJgP4TPxFZ0m5+HHSfB9e8mbBhXW/wuVzLinVsZr1bzESq9ppJKlbRkrvOfLq1ZHaWQFiywGwtgpUXyQ5UFrOaWrag9ySadAkCQBWUDgggAAAAPADAJ0BKhQAFAA+nUieSzAKKgIALATiWYAnTKEdnEL+eA0wABv4heAA/us2w1kwKNArgZqWSY8ASti4AuWvaUuzQIlICLUWc/uA6AD33jV0i7nVbWOZqKML24UWAobzJs/trZd1Vp23QfZJYf/0mLgEpGG7XGf/sDQSrZfqgAAA\"","export default \"data:image/webp;base64,UklGRsgAAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSH0AAAABcEhte918CEX4EYpQhCDEYEH4DVaDzmAzKMIQfoQgvLvkUoSImAD1b3fNG2xzB+xTBtRlJgP4TPxFZ0m5+HHSfB9e8mbBhXW/wuVzLinVsZr1bzESq9ppJKlbRkrvOfLq1ZHaWQFiywGwtgpUXyQ5UFrOaWrag9ySadAkCQBWUDggJAAAAHACAJ0BKhQAFAA+nUqfSwKAgAsBOJaQAAPaOgAA/vccAAAAAA==\"","/** Імпорт зображень для оцінки **/\nimport starFilled from '../img/feedback/star-filled.webp';\nimport starEmpty from '../img/feedback/star-empty.webp';\n\n/** Імпорт бібліотеки Swiper **/\nimport Swiper from 'swiper';\nimport {Navigation, Pagination} from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\n/** Імпорт бібліотеки raty-js **/\nimport Raty from 'raty-js';\n\n/** Імпорт функції fetchFeedbacks з файлу api-artists.js **/\nimport {fetchFeedbacks} from './api-artists.js';\nimport {FEEDBACKS_LIMIT} from './config.js';\n\n/** Нормалізує відповідь fetchFeedbacks() */\nfunction getFeedbacksList(response) {\n  if (Array.isArray(response)) {\n    return response;\n  }\n  if (response && typeof response.data !== 'undefined') {\n    return response.data;\n  }\n\n  return [];\n}\n\n/** Функція округлення рейтингу **/\nfunction roundRating(value) {\n  return Math.round(Number(value));\n}\n\n/** Функція створення HTML-коду слайда **/\nfunction getSlideHtml(item) {\n  const score = roundRating(item.rating);\n  const text = String(item.descr ?? '');\n  const name = String(item.name ?? '');\n\n  return `\n    <div class=\"swiper-slide\">\n      <div class=\"feedback-card\">\n        <div class=\"feedback-rating\" data-score=\"${score}\"></div>\n        <p class=\"feedback-text\">${text}</p>\n        <p class=\"feedback-author\">${name}</p>\n      </div>\n    </div>\n  `;\n}\n\n/** Функція ініціалізації оцінки **/\nfunction initStars() {\n  const ratingElements = document.querySelectorAll('.feedback-rating');\n  const STAR_SIZE = 20;\n  ratingElements.forEach(element => {\n    const score = parseInt(element.getAttribute('data-score'), 10);\n    if (Number.isNaN(score)) return;\n    const raty = new Raty(element, {\n      starOn: starFilled,\n      starOff: starEmpty,\n      score,\n      readOnly: true,\n    });\n    raty.init();\n    /* width/height для CLS — Lighthouse */\n    element.querySelectorAll('img').forEach(img => {\n      img.setAttribute('width', String(STAR_SIZE));\n      img.setAttribute('height', String(STAR_SIZE));\n    });\n  });\n}\n\nlet previousSlideIndex = 0;\n\nfunction getActiveBulletIndex(swiper) {\n  const total = swiper.slides.length;\n  const index = swiper.activeIndex;\n\n  if (total <= 1) return 0;\n\n  /* Обчислюємо середній індекс колекції */\n  const middleIndex = Math.ceil(total / 2);\n\n  /* Визначаємо напрямок гортання */\n  const isMovingBackward = index < previousSlideIndex;\n  previousSlideIndex = index;\n\n  /* Логіка для гортання справа наліво */\n  if (isMovingBackward || index === total - 1) {\n    /* Права крапка: від останнього до (середній + 1) */\n    if (index >= middleIndex) return 2;\n    /* Ліва крапка: тільки перший відгук */\n    if (index === 0) return 0;\n    /* Середня крапка: від середнього до (перший + 1) */\n    return 1;\n  }\n\n  /* Логіка для гортання зліва направо (вперед) */\n  /* Ліва крапка: від 1-го до (середній - 1) */\n  if (index < middleIndex - 1) return 0;\n  /* Права крапка: останній відгук */\n  if (index === total - 1) return 2;\n  /* Середня крапка: від середнього до передостаннього */\n  return 1;\n}\n\n/** Підсвічує активну крапку пагінації (1-ша / середня / 10-та). */\nfunction setActiveBullet(swiper) {\n  const bullets = swiper.pagination.bullets;\n  if (!bullets || bullets.length === 0) return;\n\n  bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n  const bulletIndex = getActiveBulletIndex(swiper);\n  if (bullets[bulletIndex]) {\n    bullets[bulletIndex].classList.add('swiper-pagination-bullet-active');\n  }\n}\n\n/**\n 1-ша → слайд 1, середня → 5-й відгук, 3-тя → 10-й відгук.\n */\nfunction bindPaginationClicks(swiper) {\n  const bullets = swiper.pagination.bullets;\n  if (!bullets || bullets.length < 3) return;\n\n  const total = swiper.slides.length;\n  const middleSlideIndex = total >= 5 ? 4 : Math.floor(total / 2);\n\n  bullets[0].addEventListener('click', () => swiper.slideTo(0));\n  bullets[1].addEventListener('click', () => swiper.slideTo(middleSlideIndex));\n  bullets[2].addEventListener('click', () => swiper.slideTo(total - 1));\n}\n\n/** Функція ініціалізації секції відгуків **/\nasync function initFeedbackSection() {\n  const wrapper = document.querySelector('.feedback-swiper .swiper-wrapper');\n  if (!wrapper) {\n    return;\n  }\n\n  try {\n    const response = await fetchFeedbacks();\n    const list = getFeedbacksList(response);\n    const items = list.slice(0, FEEDBACKS_LIMIT);\n\n    if (items.length === 0) {\n      wrapper.innerHTML = `\n        <div class=\"swiper-slide\">\n          <div class=\"feedback-card\">\n            <p class=\"feedback-text\">Відгуки тимчасово недоступні.</p>\n          </div>\n        </div>\n      `;\n    } else {\n      wrapper.innerHTML = items.map(getSlideHtml).join('');\n      initStars();\n    }\n\n    const swiper = new Swiper('.feedback-swiper', {\n      modules: [Navigation, Pagination],\n      direction: 'horizontal',\n      loop: false,\n      autoHeight: true,\n      grabCursor: true,\n      simulateTouch: true,\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n        pageUpDown: true,\n      },\n      mousewheel: {\n        eventsTarget: '.feedback-swiper',\n      },\n      navigation: {\n        nextEl: '.feedback-nav-next',\n        prevEl: '.feedback-nav-prev',\n      },\n      pagination: {\n        el: '.feedback-swiper .swiper-pagination',\n        clickable: false,\n        bulletClass: 'swiper-pagination-bullet',\n        bulletActiveClass: 'swiper-pagination-bullet-active',\n        renderBullet(index, className) {\n          if (index >= 3) return '';\n          const labels = ['Go to first feedback', 'Go to middle feedback', 'Go to last feedback'];\n          return `<span class=\"${className}\" role=\"button\" tabindex=\"0\" aria-label=\"${labels[index]}\"></span>`;\n        },\n      },\n    });\n\n    bindPaginationClicks(swiper);\n    swiper.on('slideChange', () => setActiveBullet(swiper));\n    setActiveBullet(swiper);\n  } catch (err) {\n    wrapper.innerHTML = `\n      <div class=\"swiper-slide\">\n        <div class=\"feedback-card\">\n          <p class=\"feedback-text\">Не вдалося завантажити відгуки. Спробуйте пізніше.</p>\n        </div>\n      </div>\n    `;\n  }\n}\n\ninitFeedbackSection();\n"],"names":["API_BASE","DEFAULT_PAGE","ARTISTS_PAGE_LIMIT","FEEDBACKS_LIMIT","fetchArtists","page","perPage","axios","fetchArtistById","id","fetchArtistAlbums","fetchFeedbacks","error","link","setupExploreScroll","exploreBtn","targetSection","list","loadMoreBtn","loader","PER_PAGE","loadArtists","showLoader","data","artists","renderArtists","hideLoader","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","genresMarkup","genre","modalContent","closeModalBtn","backdrop","modalLoader","createArtistMarkup","artist","albums","artistName","artistImage","formedYear","endedYear","gender","membersCount","country","biography","formatYears","createAlbumsSectionMarkup","isMissingValue","val","s","hasStart","hasEnd","openArtistModal","artistId","addModalEventListeners","showModalLoader","b","hideModalLoader","closeModal","removeModalEventListeners","onEscKeydown","e","onBackdropClick","artistCard","formatDuration","ms","totalSeconds","minutes","seconds","createTrackMarkup","track","strTrack","intDuration","movie","strMusicVid","strVideo","youtubeUrl","createAlbumMarkup","album","strAlbum","intYearReleased","tracks","starFilled","starEmpty","getFeedbacksList","response","roundRating","value","getSlideHtml","item","score","text","name","initStars","ratingElements","STAR_SIZE","element","Raty","img","previousSlideIndex","getActiveBulletIndex","swiper","total","index","middleIndex","isMovingBackward","setActiveBullet","bullets","bulletIndex","bindPaginationClicks","middleSlideIndex","initFeedbackSection","wrapper","items","Swiper","Navigation","Pagination","className"],"mappings":"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"}