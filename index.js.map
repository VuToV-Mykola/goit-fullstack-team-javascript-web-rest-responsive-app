{"version":3,"file":"index.js","sources":["../src/js/config.js","../src/js/api-artists.js","../src/js/header-mob-menu.js","../src/js/hero.js","../src/js/artist-modal.js","../src/js/artists.js","../src/img/feedback/star-filled.webp","../src/img/feedback/star-empty.webp","../src/js/feedback.js"],"sourcesContent":["export const API_BASE = 'https://sound-wave.b.goit.study/api';\nexport const DEFAULT_PAGE = 1;\nexport const ARTISTS_PAGE_LIMIT = 8;\nexport const REQUEST_TIMEOUT_MS = 10_000;\nexport const FEEDBACKS_LIMIT = 10;\n","import axios from 'axios';\nimport {API_BASE, DEFAULT_PAGE, ARTISTS_PAGE_LIMIT} from './config.js';\n\nexport async function fetchArtists(page = DEFAULT_PAGE, perPage = ARTISTS_PAGE_LIMIT) {\n  const response = await axios.get(`${API_BASE}/artists`, {\n    params: {\n      page,\n      limit: perPage,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchArtistById(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}`);\n  return response.data;\n}\n\nexport async function fetchGenres() {\n  const response = await axios.get(`${API_BASE}/genres`);\n  return response.data;\n}\n\nexport async function fetchFeedbacks() {\n  try {\n    const response = await axios.get(`${API_BASE}/feedbacks`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to load feedbacks', {cause: error});\n  }\n}\n","document.querySelectorAll('.nav-list a').forEach(link => {\n  link.addEventListener('click', () => {\n    document.getElementById('nav-toggle').checked = false;\n  });\n});\n\n// 4 На мобільних пристроях навігаційне меню ховається в бургер-меню.","/**\n * Підключає плавний скрол до секції #artists по кліку на кнопку Explore Artists.\n */\nfunction setupExploreScroll() {\n  const exploreBtn = document.querySelector(\"#btn-hero-js\")\n\n  if (exploreBtn) {\n    exploreBtn.addEventListener(\"click\", () => {\n      const targetSection = document.querySelector(\"#artists-js\")\n      if (targetSection) {\n        targetSection.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\"\n        })\n      }\n    })\n  }\n}\n\n// Ініціалізація Hero після завантаження DOM\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  setupExploreScroll()\n})\n","import {fetchArtistById} from './api-artists.js';\n\nconst modalContent = document.querySelector('.modal-content');\n\nfunction createArtistMarkup(artist) {\n  const {\n    strArtist: artistName,\n    strArtistThumb: artistImage,\n    intFormedYear: formedYear,\n    intDiedYear: endedYear,\n    strGender: gender,\n    intMembers: membersCount,\n    strCountry: country,\n    strBiographyEN: biography,\n    genres,\n  } = artist;\n\n  return `\n    <h2 class=\"artist-name\">${artistName}</h2>\n\n  <div class=\"artist-image\">\n    <img src=\"${artistImage}\" alt=\"${artistName || 'Artist'}\" />\n  </div>\n\n  <div class=\"artist-info\">\n    <div class=\"info-row\">\n      <span class=\"label\">Years active</span>\n      <span class=\"value\">${formedYear}-${endedYear === null ? 'present' : endedYear}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Sex</span>\n      <span class=\"value\">${gender}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Members</span>\n      <span class=\"value\">${membersCount}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Country</span>\n      <span class=\"value\">${country}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Biography</span>\n      <span class=\"value\">${biography}</span>\n    </div>\n  </div>\n\n    <ul class=\"info-genres\">\n      ${genres.map(genre => `<li class=\"info-genres-item\">${genre}</li>`).join('')}\n    </ul>\n  `;\n}\n\nexport async function openArtistModal(artistId) {\n  try {\n    const artist = await fetchArtistById(artistId);\n    console.log(artist);\n\n    modalContent.innerHTML = createArtistMarkup(artist);\n  } catch (error) {\n    console.log(error);\n    modalContent.innerHTML = `\n      <p class=\"error\">Failed to load artist information</p>\n    `;\n  }\n}\n// тимчасово для перевірки\n// openArtistModal('65ada5b8af9f6d155db4806b');\n","import {fetchArtists} from './api-artists';\nimport {openArtistModal} from './artist-modal';\n\nconst list = document.getElementById('artistsList');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\nconst loader = document.getElementById('artistsLoader');\n\nlet page = 1;\nconst PER_PAGE = 8;\n\n// LOAD ARTISTS\n\nasync function loadArtists() {\n  try {\n    showLoader();\n\n    const data = await fetchArtists(page, PER_PAGE);\n    const artists = data.artists || data;\n\n    renderArtists(artists);\n\n    if (artists.length < PER_PAGE) {\n      loadMoreBtn.classList.add('is-hidden');\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n\n    page += 1;\n  } catch (error) {\n    console.error('Failed to load artists:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\n// RENDER\n\nfunction renderArtists(artists) {\n  if (!Array.isArray(artists)) return;\n\n  const markup = artists\n    .map(({_id, strArtist, strArtistThumb, genres, strBiographyEN}) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n        <li class=\"artist-card\" data-id=\"${_id}\">\n          <div class=\"artist-thumb\">\n            <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" class=\"artist-img\" />\n          </div>\n\n          <div class=\"artist-content\">\n            <div class=\"artist-genres\">${genresMarkup}</div>\n            <h3 class=\"artist-name\">${strArtist}</h3>\n            <p class=\"artist-bio\">${strBiographyEN}</p>\n            <button class=\"artist-more\" type=\"button\">Learn more</button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\n// LOADER\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\n// INIT\n\nloadArtists();\n\n// EVENT\n\nloadMoreBtn.addEventListener('click', loadArtists);\n\nartistsList.addEventListener('click', event => {\n  const btn = event.target.closest('.artist-more');\n  if (!btn) return;\n\n  const card = btn.closest('.artist-card');\n  if (!card) return;\n\n  openArtistModal(card.dataset.id);\n});\n","export default \"data:image/webp;base64,UklGRiQBAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSH0AAAABcEhte918CEX4EYpQhCDEYEH4DVaDzmAzKMIQfoQgvLvkUoSImAD1b3fNG2xzB+xTBtRlJgP4TPxFZ0m5+HHSfB9e8mbBhXW/wuVzLinVsZr1bzESq9ppJKlbRkrvOfLq1ZHaWQFiywGwtgpUXyQ5UFrOaWrag9ySadAkCQBWUDgggAAAAPADAJ0BKhQAFAA+nUieSzAKKgIALATiWYAnTKEdnEL+eA0wABv4heAA/us2w1kwKNArgZqWSY8ASti4AuWvaUuzQIlICLUWc/uA6AD33jV0i7nVbWOZqKML24UWAobzJs/trZd1Vp23QfZJYf/0mLgEpGG7XGf/sDQSrZfqgAAA\"","export default \"data:image/webp;base64,UklGRsgAAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSH0AAAABcEhte918CEX4EYpQhCDEYEH4DVaDzmAzKMIQfoQgvLvkUoSImAD1b3fNG2xzB+xTBtRlJgP4TPxFZ0m5+HHSfB9e8mbBhXW/wuVzLinVsZr1bzESq9ppJKlbRkrvOfLq1ZHaWQFiywGwtgpUXyQ5UFrOaWrag9ySadAkCQBWUDggJAAAAHACAJ0BKhQAFAA+nUqfSwKAgAsBOJaQAAPaOgAA/vccAAAAAA==\"","/** Імпорт зображень для оцінки **/\nimport starFilled from '../img/feedback/star-filled.webp';\nimport starEmpty from '../img/feedback/star-empty.webp';\n\n/** Імпорт бібліотеки Swiper **/\nimport Swiper from 'swiper';\nimport {Navigation, Pagination} from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\n/** Імпорт бібліотеки raty-js **/\nimport Raty from 'raty-js';\n\n/** Імпорт функції fetchFeedbacks з файлу api-artists.js **/\nimport {fetchFeedbacks} from './api-artists.js';\nimport {FEEDBACKS_LIMIT} from './config.js';\n\n/** Нормалізує відповідь fetchFeedbacks(): тіло може бути масивом або { data: [] } */\nfunction getFeedbacksList(response) {\n  if (Array.isArray(response)) {\n    console.log('[feedback] getFeedbacksList: відповідь — масив, length =', response.length);\n    return response;\n  }\n  if (response && typeof response.data !== 'undefined') {\n    console.log(\n      \"[feedback] getFeedbacksList: відповідь — об'єкт .data, length =\",\n      response.data.length\n    );\n    return response.data;\n  }\n  console.log('[feedback] getFeedbacksList: порожній результат');\n  return [];\n}\n\n/** Функція округлення рейтингу **/\nfunction roundRating(value) {\n  return Math.round(Number(value));\n}\n\n/** Функція створення HTML-коду слайда **/\nfunction getSlideHtml(item) {\n  const score = roundRating(item.rating);\n  const text = String(item.descr ?? '');\n  const name = String(item.name ?? '');\n\n  return `\n    <div class=\"swiper-slide\">\n      <div class=\"feedback-card\">\n        <div class=\"feedback-rating\" data-score=\"${score}\"></div>\n        <p class=\"feedback-text\">${text}</p>\n        <p class=\"feedback-author\">${name}</p>\n      </div>\n    </div>\n  `;\n}\n\n/** Функція ініціалізації оцінки **/\nfunction initStars() {\n  const ratingElements = document.querySelectorAll('.feedback-rating');\n  console.log('[feedback] initStars: знайдено елементів рейтингу =', ratingElements.length);\n  ratingElements.forEach(element => {\n    const score = parseInt(element.getAttribute('data-score'), 10);\n    if (Number.isNaN(score)) return;\n    const raty = new Raty(element, {\n      starOn: starFilled,\n      starOff: starEmpty,\n      score,\n      readOnly: true,\n    });\n    raty.init();\n  });\n}\n\nlet previousSlideIndex = 0;\n\nfunction getActiveBulletIndex(swiper) {\n  const total = swiper.slides.length;\n  const index = swiper.activeIndex;\n\n  if (total <= 1) return 0;\n\n  /* Обчислюємо середній індекс колекції */\n  const middleIndex = Math.ceil(total / 2);\n\n  /* Визначаємо напрямок гортання */\n  const isMovingBackward = index < previousSlideIndex;\n  previousSlideIndex = index;\n\n  /* Логіка для гортання справа наліво */\n  if (isMovingBackward || index === total - 1) {\n    /* Права крапка: від останнього до (середній + 1) */\n    if (index >= middleIndex) return 2;\n\n    /* Ліва крапка: тільки перший відгук */\n    if (index === 0) return 0;\n\n    /* Середня крапка: від середнього до (перший + 1) */\n    return 1;\n  }\n\n  /* Логіка для гортання зліва направо (вперед) */\n  /* Ліва крапка: від 1-го до (середній - 1) */\n  if (index < middleIndex - 1) return 0;\n\n  /* Права крапка: останній відгук */\n  if (index === total - 1) return 2;\n\n  /* Середня крапка: від середнього до передостаннього */\n  return 1;\n}\n\n/** Підсвічує активну крапку пагінації (1-ша / середня / 10-та). */\nfunction setActiveBullet(swiper) {\n  const bullets = swiper.pagination.bullets;\n  if (!bullets || bullets.length === 0) return;\n\n  bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n  const bulletIndex = getActiveBulletIndex(swiper);\n  if (bullets[bulletIndex]) {\n    bullets[bulletIndex].classList.add('swiper-pagination-bullet-active');\n  }\n}\n\n/**\n 1-ша → слайд 1, середня → 5-й відгук, 3-тя → 10-й відгук.\n */\nfunction bindPaginationClicks(swiper) {\n  const bullets = swiper.pagination.bullets;\n  if (!bullets || bullets.length < 3) return;\n\n  const total = swiper.slides.length;\n  const middleSlideIndex = total >= 5 ? 4 : Math.floor(total / 2);\n\n  bullets[0].addEventListener('click', () => swiper.slideTo(0));\n  bullets[1].addEventListener('click', () => swiper.slideTo(middleSlideIndex));\n  bullets[2].addEventListener('click', () => swiper.slideTo(total - 1));\n}\n\n/** Функція ініціалізації секції відгуків **/\nasync function initFeedbackSection() {\n  console.log('[feedback] initFeedbackSection: старт');\n  const wrapper = document.querySelector('.feedback-swiper .swiper-wrapper');\n  if (!wrapper) {\n    console.warn(\n      '[feedback] initFeedbackSection: не знайдено .feedback-swiper .swiper-wrapper, вихід'\n    );\n    return;\n  }\n\n  try {\n    console.log('[feedback] fetchFeedbacks: запит до API...');\n    const response = await fetchFeedbacks();\n    console.log('[feedback] fetchFeedbacks: відповідь отримано');\n    const list = getFeedbacksList(response);\n    const items = list.slice(0, FEEDBACKS_LIMIT);\n    console.log(\n      '[feedback] відгуків після обрізки (limit = ' + FEEDBACKS_LIMIT + '):',\n      items.length\n    );\n\n    if (items.length === 0) {\n      console.log('[feedback] показ повідомлення «Відгуки тимчасово недоступні»');\n      wrapper.innerHTML = `\n        <div class=\"swiper-slide\">\n          <div class=\"feedback-card\">\n            <p class=\"feedback-text\">Відгуки тимчасово недоступні.</p>\n          </div>\n        </div>\n      `;\n    } else {\n      wrapper.innerHTML = items.map(getSlideHtml).join('');\n      console.log('[feedback] вставлено слайдів:', items.length);\n      initStars();\n    }\n\n    console.log('[feedback] ініціалізація Swiper...');\n    const swiper = new Swiper('.feedback-swiper', {\n      modules: [Navigation, Pagination],\n      direction: 'horizontal',\n      loop: false,\n      autoHeight: true,\n      grabCursor: true,\n      simulateTouch: true,\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n        pageUpDown: true,\n      },\n      mousewheel: {\n        eventsTarget: '.feedback-swiper',\n      },\n      navigation: {\n        nextEl: '.feedback-nav-next',\n        prevEl: '.feedback-nav-prev',\n      },\n      pagination: {\n        el: '.feedback-swiper .swiper-pagination',\n        clickable: false,\n        bulletClass: 'swiper-pagination-bullet',\n        bulletActiveClass: 'swiper-pagination-bullet-active',\n        renderBullet(index, className) {\n          if (index >= 3) return '';\n          return `<span class=\"${className}\" role=\"button\" tabindex=\"0\"></span>`;\n        },\n      },\n    });\n\n    bindPaginationClicks(swiper);\n    swiper.on('slideChange', () => setActiveBullet(swiper));\n    setActiveBullet(swiper);\n    console.log(\n      '[feedback] initFeedbackSection: успішно завершено, слайдів =',\n      swiper.slides.length\n    );\n  } catch (err) {\n    console.error('[feedback] Помилка завантаження відгуків:', err);\n    wrapper.innerHTML = `\n      <div class=\"swiper-slide\">\n        <div class=\"feedback-card\">\n          <p class=\"feedback-text\">Не вдалося завантажити відгуки. Спробуйте пізніше.</p>\n        </div>\n      </div>\n    `;\n    console.log('[feedback] показано повідомлення про помилку користувачу');\n  }\n}\n\nconsole.log('[feedback] підключено, виклик initFeedbackSection()');\ninitFeedbackSection();\n"],"names":["API_BASE","DEFAULT_PAGE","ARTISTS_PAGE_LIMIT","FEEDBACKS_LIMIT","fetchArtists","page","perPage","axios","fetchArtistById","id","fetchFeedbacks","error","link","setupExploreScroll","exploreBtn","targetSection","modalContent","createArtistMarkup","artist","artistName","artistImage","formedYear","endedYear","gender","membersCount","country","biography","genres","genre","openArtistModal","artistId","loadMoreBtn","loader","PER_PAGE","loadArtists","showLoader","data","artists","renderArtists","hideLoader","markup","_id","strArtist","strArtistThumb","strBiographyEN","genresMarkup","event","btn","card","starFilled","starEmpty","getFeedbacksList","response","roundRating","value","getSlideHtml","item","score","text","name","initStars","ratingElements","element","Raty","previousSlideIndex","getActiveBulletIndex","swiper","total","index","middleIndex","isMovingBackward","setActiveBullet","bullets","b","bulletIndex","bindPaginationClicks","middleSlideIndex","initFeedbackSection","wrapper","items","Swiper","Navigation","Pagination","className","err"],"mappings":"kxBAAO,MAAMA,EAAW,sCACXC,EAAe,EACfC,EAAqB,EAErBC,EAAkB,GCDxB,eAAeC,EAAaC,EAAOJ,EAAcK,EAAUJ,EAAoB,CAQpF,OAPiB,MAAMK,EAAM,IAAI,GAAGP,CAAQ,WAAY,CACtD,OAAQ,CACN,KAAAK,EACA,MAAOC,CACb,CACA,CAAG,GAEe,IAClB,CAEO,eAAeE,EAAgBC,EAAI,CACxC,GAAI,CAACA,EAAI,MAAM,IAAI,MAAM,uBAAuB,EAGhD,OADiB,MAAMF,EAAM,IAAI,GAAGP,CAAQ,YAAYS,CAAE,EAAE,GAC5C,IAClB,CAOO,eAAeC,GAAiB,CACrC,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,GAAGP,CAAQ,YAAY,GACxC,IAClB,OAASW,EAAO,CACd,MAAM,IAAI,MAAM,2BAA4B,CAAC,MAAOA,CAAK,CAAC,CAC5D,CACF,CCjCA,SAAS,iBAAiB,aAAa,EAAE,QAAQC,GAAQ,CACvDA,EAAK,iBAAiB,QAAS,IAAM,CACnC,SAAS,eAAe,YAAY,EAAE,QAAU,EAClD,CAAC,CACH,CAAC,ECDD,SAASC,GAAqB,CAC5B,MAAMC,EAAa,SAAS,cAAc,cAAc,EAEpDA,GACFA,EAAW,iBAAiB,QAAS,IAAM,CACzC,MAAMC,EAAgB,SAAS,cAAc,aAAa,EACtDA,GACFA,EAAc,eAAe,CAC3B,SAAU,SACV,MAAO,OACjB,CAAS,CAEL,CAAC,CAEL,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDF,EAAkB,CACpB,CAAC,ECpBD,MAAMG,EAAe,SAAS,cAAc,gBAAgB,EAE5D,SAASC,EAAmBC,EAAQ,CAClC,KAAM,CACJ,UAAWC,EACX,eAAgBC,EAChB,cAAeC,EACf,YAAaC,EACb,UAAWC,EACX,WAAYC,EACZ,WAAYC,EACZ,eAAgBC,EAChB,OAAAC,CACJ,EAAMT,EAEJ,MAAO;AAAA,8BACqBC,CAAU;AAAA;AAAA;AAAA,gBAGxBC,CAAW,UAAUD,GAAc,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAM/BE,CAAU,IAAIC,IAAc,KAAO,UAAYA,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKxDC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKNC,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKZC,CAAO;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,QAK7BC,EAAO,IAAIC,GAAS,gCAAgCA,CAAK,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,GAGlF,CAEO,eAAeC,EAAgBC,EAAU,CAC9C,GAAI,CACF,MAAMZ,EAAS,MAAMV,EAAgBsB,CAAQ,EAC7C,QAAQ,IAAIZ,CAAM,EAElBF,EAAa,UAAYC,EAAmBC,CAAM,CACpD,OAASP,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBK,EAAa,UAAY;AAAA;AAAA,KAG3B,CACF,CClEa,SAAS,eAAe,aAAa,EAClD,MAAMe,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAS,SAAS,eAAe,eAAe,EAEtD,IAAI3B,EAAO,EACX,MAAM4B,EAAW,EAIjB,eAAeC,GAAc,CAC3B,GAAI,CACFC,EAAU,EAEV,MAAMC,EAAO,MAAMhC,EAAaC,EAAM4B,CAAQ,EACxCI,EAAUD,EAAK,SAAWA,EAEhCE,EAAcD,CAAO,EAEjBA,EAAQ,OAASJ,EACnBF,EAAY,UAAU,IAAI,WAAW,EAErCA,EAAY,UAAU,OAAO,WAAW,EAG1C1B,GAAQ,CACV,OAASM,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAChD,QAAC,CACC4B,EAAU,CACZ,CACF,CAIA,SAASD,EAAcD,EAAS,CAC9B,GAAI,CAAC,MAAM,QAAQA,CAAO,EAAG,OAE7B,MAAMG,EAASH,EACZ,IAAI,CAAC,CAAC,IAAAI,EAAK,UAAAC,EAAW,eAAAC,EAAgB,OAAAhB,EAAQ,eAAAiB,CAAc,IAAM,CACjE,MAAMC,EAAelB,EAClB,IAAIC,GAAS,8BAA8BA,CAAK,SAAS,EACzD,KAAK,EAAE,EAEV,MAAO;AAAA,2CAC8Ba,CAAG;AAAA;AAAA,wBAEtBE,CAAc,UAAUD,CAAS;AAAA;AAAA;AAAA;AAAA,yCAIhBG,CAAY;AAAA,sCACfH,CAAS;AAAA,oCACXE,CAAc;AAAA;AAAA;AAAA;AAAA,OAK9C,CAAC,EACA,KAAK,EAAE,EAEV,YAAY,mBAAmB,YAAaJ,CAAM,CACpD,CAIA,SAASL,GAAa,CACpBH,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASO,GAAa,CACpBP,EAAO,UAAU,IAAI,WAAW,CAClC,CAIAE,EAAW,EAIXH,EAAY,iBAAiB,QAASG,CAAW,EAEjD,YAAY,iBAAiB,QAASY,GAAS,CAC7C,MAAMC,EAAMD,EAAM,OAAO,QAAQ,cAAc,EAC/C,GAAI,CAACC,EAAK,OAEV,MAAMC,EAAOD,EAAI,QAAQ,cAAc,EAClCC,GAELnB,EAAgBmB,EAAK,QAAQ,EAAE,CACjC,CAAC,EC5FD,MAAAC,EAAe,0aCAfC,EAAe,kTCmBf,SAASC,EAAiBC,EAAU,CAClC,OAAI,MAAM,QAAQA,CAAQ,GACxB,QAAQ,IAAI,2DAA4DA,EAAS,MAAM,EAChFA,GAELA,GAAY,OAAOA,EAAS,KAAS,KACvC,QAAQ,IACN,kEACAA,EAAS,KAAK,MACpB,EACWA,EAAS,OAElB,QAAQ,IAAI,iDAAiD,EACtD,CAAA,EACT,CAGA,SAASC,EAAYC,EAAO,CAC1B,OAAO,KAAK,MAAM,OAAOA,CAAK,CAAC,CACjC,CAGA,SAASC,EAAaC,EAAM,CAC1B,MAAMC,EAAQJ,EAAYG,EAAK,MAAM,EAC/BE,EAAO,OAAOF,EAAK,OAAS,EAAE,EAC9BG,EAAO,OAAOH,EAAK,MAAQ,EAAE,EAEnC,MAAO;AAAA;AAAA;AAAA,mDAG0CC,CAAK;AAAA,mCACrBC,CAAI;AAAA,qCACFC,CAAI;AAAA;AAAA;AAAA,GAIzC,CAGA,SAASC,GAAY,CACnB,MAAMC,EAAiB,SAAS,iBAAiB,kBAAkB,EACnE,QAAQ,IAAI,sDAAuDA,EAAe,MAAM,EACxFA,EAAe,QAAQC,GAAW,CAChC,MAAML,EAAQ,SAASK,EAAQ,aAAa,YAAY,EAAG,EAAE,EAC7D,GAAI,OAAO,MAAML,CAAK,EAAG,OACZ,IAAIM,EAAKD,EAAS,CAC7B,OAAQb,EACR,QAASC,EACT,MAAAO,EACA,SAAU,EAChB,CAAK,EACI,KAAI,CACX,CAAC,CACH,CAEA,IAAIO,EAAqB,EAEzB,SAASC,EAAqBC,EAAQ,CACpC,MAAMC,EAAQD,EAAO,OAAO,OACtBE,EAAQF,EAAO,YAErB,GAAIC,GAAS,EAAG,MAAO,GAGvB,MAAME,EAAc,KAAK,KAAKF,EAAQ,CAAC,EAGjCG,EAAmBF,EAAQJ,EAIjC,OAHAA,EAAqBI,EAGjBE,GAAoBF,IAAUD,EAAQ,EAEpCC,GAASC,EAAoB,EAG7BD,IAAU,EAAU,EAGjB,EAKLA,EAAQC,EAAc,EAAU,EAGhCD,IAAUD,EAAQ,EAAU,EAGzB,CACT,CAGA,SAASI,EAAgBL,EAAQ,CAC/B,MAAMM,EAAUN,EAAO,WAAW,QAClC,GAAI,CAACM,GAAWA,EAAQ,SAAW,EAAG,OAEtCA,EAAQ,QAAQC,GAAKA,EAAE,UAAU,OAAO,iCAAiC,CAAC,EAC1E,MAAMC,EAAcT,EAAqBC,CAAM,EAC3CM,EAAQE,CAAW,GACrBF,EAAQE,CAAW,EAAE,UAAU,IAAI,iCAAiC,CAExE,CAKA,SAASC,EAAqBT,EAAQ,CACpC,MAAMM,EAAUN,EAAO,WAAW,QAClC,GAAI,CAACM,GAAWA,EAAQ,OAAS,EAAG,OAEpC,MAAML,EAAQD,EAAO,OAAO,OACtBU,EAAmBT,GAAS,EAAI,EAAI,KAAK,MAAMA,EAAQ,CAAC,EAE9DK,EAAQ,CAAC,EAAE,iBAAiB,QAAS,IAAMN,EAAO,QAAQ,CAAC,CAAC,EAC5DM,EAAQ,CAAC,EAAE,iBAAiB,QAAS,IAAMN,EAAO,QAAQU,CAAgB,CAAC,EAC3EJ,EAAQ,CAAC,EAAE,iBAAiB,QAAS,IAAMN,EAAO,QAAQC,EAAQ,CAAC,CAAC,CACtE,CAGA,eAAeU,GAAsB,CACnC,QAAQ,IAAI,uCAAuC,EACnD,MAAMC,EAAU,SAAS,cAAc,kCAAkC,EACzE,GAAI,CAACA,EAAS,CACZ,QAAQ,KACN,qFACN,EACI,MACF,CAEA,GAAI,CACF,QAAQ,IAAI,4CAA4C,EACxD,MAAM1B,EAAW,MAAM1C,EAAc,EACrC,QAAQ,IAAI,+CAA+C,EAE3D,MAAMqE,EADO5B,EAAiBC,CAAQ,EACnB,MAAM,EAAGjD,CAAe,EAC3C,QAAQ,IACN,8CAAgDA,EAAkB,KAClE4E,EAAM,MACZ,EAEQA,EAAM,SAAW,GACnB,QAAQ,IAAI,8DAA8D,EAC1ED,EAAQ,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAQpBA,EAAQ,UAAYC,EAAM,IAAIxB,CAAY,EAAE,KAAK,EAAE,EACnD,QAAQ,IAAI,gCAAiCwB,EAAM,MAAM,EACzDnB,EAAS,GAGX,QAAQ,IAAI,oCAAoC,EAChD,MAAMM,EAAS,IAAIc,EAAO,mBAAoB,CAC5C,QAAS,CAACC,EAAYC,CAAU,EAChC,UAAW,aACX,KAAM,GACN,WAAY,GACZ,WAAY,GACZ,cAAe,GACf,SAAU,CACR,QAAS,GACT,eAAgB,GAChB,WAAY,EACpB,EACM,WAAY,CACV,aAAc,kBACtB,EACM,WAAY,CACV,OAAQ,qBACR,OAAQ,oBAChB,EACM,WAAY,CACV,GAAI,sCACJ,UAAW,GACX,YAAa,2BACb,kBAAmB,kCACnB,aAAad,EAAOe,EAAW,CAC7B,OAAIf,GAAS,EAAU,GAChB,gBAAgBe,CAAS,sCAClC,CACR,CACA,CAAK,EAEDR,EAAqBT,CAAM,EAC3BA,EAAO,GAAG,cAAe,IAAMK,EAAgBL,CAAM,CAAC,EACtDK,EAAgBL,CAAM,EACtB,QAAQ,IACN,+DACAA,EAAO,OAAO,MACpB,CACE,OAASkB,EAAK,CACZ,QAAQ,MAAM,4CAA6CA,CAAG,EAC9DN,EAAQ,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOpB,QAAQ,IAAI,0DAA0D,CACxE,CACF,CAEA,QAAQ,IAAI,qDAAqD,EACjED,EAAmB"}