{"version":3,"file":"index.js","sources":["../src/js/config.js","../src/js/api-artists.js","../src/js/header-mob-menu.js","../src/js/hero.js","../src/js/artists.js"],"sourcesContent":["export const API_BASE = 'https://sound-wave.b.goit.study/api';\nexport const DEFAULT_PAGE = 1;\nexport const ARTISTS_PAGE_LIMIT = 8;\nexport const REQUEST_TIMEOUT_MS = 10_000;\nexport const FEEDBACKS_LIMIT = 10;\n","import axios from 'axios';\nimport {API_BASE, DEFAULT_PAGE, ARTISTS_PAGE_LIMIT} from './config.js';\n\nexport async function fetchArtists(page = DEFAULT_PAGE, perPage = ARTISTS_PAGE_LIMIT) {\n  const response = await axios.get(`${API_BASE}/artists`, {\n    params: {\n      page,\n      limit: perPage,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchArtistById(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}`);\n  return response.data;\n}\n\nexport async function fetchGenres() {\n  const response = await axios.get(`${API_BASE}/genres`);\n  return response.data;\n}\n\nexport async function fetchFeedbacks() {\n  try {\n    const response = await axios.get(`${API_BASE}/feedbacks`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to load feedbacks', {cause: error});\n  }\n}\n","document.querySelectorAll('.nav-list a').forEach(link => {\n  link.addEventListener('click', () => {\n    document.getElementById('nav-toggle').checked = false;\n  });\n});\n\n// 4 На мобільних пристроях навігаційне меню ховається в бургер-меню.","/**\n * Підключає плавний скрол до секції #artists по кліку на кнопку Explore Artists.\n */\nfunction setupExploreScroll() {\n  const exploreBtn = document.querySelector('#btn-hero-js');\n\n  if (exploreBtn) {\n    exploreBtn.addEventListener('click', () => {\n      const targetSection = document.querySelector('#artists');\n      if (targetSection) {\n        targetSection.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    });\n  }\n}\n\n// Ініціалізація Hero після завантаження DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupExploreScroll();\n});\n","import {fetchArtists} from './api-artists';\n// import {openArtistModal} from './artist-modal';\n\nconst list = document.getElementById('artistsList');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\nconst loader = document.getElementById('artistsLoader');\n\nlet page = 1;\nconst PER_PAGE = 8;\n\n// LOAD ARTISTS\n\nasync function loadArtists() {\n  try {\n    showLoader();\n\n    const data = await fetchArtists(page, PER_PAGE);\n    const artists = data.artists || data;\n\n    renderArtists(artists);\n\n    if (artists.length < PER_PAGE) {\n      loadMoreBtn.classList.add('is-hidden');\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n\n    page += 1;\n  } catch (error) {\n    console.error('Failed to load artists:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\n// RENDER\n\nfunction renderArtists(artists) {\n  if (!Array.isArray(artists)) return;\n\n  const markup = artists\n    .map(({_id, strArtist, strArtistThumb, genres, strBiographyEN}) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n        <li class=\"artist-card\" data-id=\"${_id}\">\n          <div class=\"artist-thumb\">\n            <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" class=\"artist-img\" />\n          </div>\n\n          <div class=\"artist-content\">\n            <div class=\"artist-genres\">${genresMarkup}</div>\n            <h3 class=\"artist-name\">${strArtist}</h3>\n            <p class=\"artist-bio\">${strBiographyEN}</p>\n            <button class=\"artist-more\" type=\"button\">Learn more</button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\n// LOADER\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\n// INIT\n\nloadArtists();\n\n// EVENT\n\nloadMoreBtn.addEventListener('click', loadArtists);\n\nartistsList.addEventListener('click', event => {\n  const btn = event.target.closest('.artist-more');\n  if (!btn) return;\n\n  const card = btn.closest('.artist-card');\n  if (!card) return;\n\n  openArtistModal(card.dataset.id);\n});\n"],"names":["API_BASE","DEFAULT_PAGE","ARTISTS_PAGE_LIMIT","fetchArtists","page","perPage","axios","link","setupExploreScroll","exploreBtn","targetSection","loadMoreBtn","loader","PER_PAGE","loadArtists","showLoader","data","artists","renderArtists","error","hideLoader","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","genresMarkup","genre","event","btn","card"],"mappings":"svBAAO,MAAMA,EAAW,sCACXC,EAAe,EACfC,EAAqB,ECC3B,eAAeC,EAAaC,EAAOH,EAAcI,EAAUH,EAAoB,CAQpF,OAPiB,MAAMI,EAAM,IAAI,GAAGN,CAAQ,WAAY,CACtD,OAAQ,CACN,KAAAI,EACA,MAAOC,CACb,CACA,CAAG,GAEe,IAClB,CCZA,SAAS,iBAAiB,aAAa,EAAE,QAAQE,GAAQ,CACvDA,EAAK,iBAAiB,QAAS,IAAM,CACnC,SAAS,eAAe,YAAY,EAAE,QAAU,EAClD,CAAC,CACH,CAAC,ECDD,SAASC,GAAqB,CAC5B,MAAMC,EAAa,SAAS,cAAc,cAAc,EAEpDA,GACFA,EAAW,iBAAiB,QAAS,IAAM,CACzC,MAAMC,EAAgB,SAAS,cAAc,UAAU,EACnDA,GACFA,EAAc,eAAe,CAC3B,SAAU,SACV,MAAO,OACjB,CAAS,CAEL,CAAC,CAEL,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDF,EAAkB,CACpB,CAAC,ECnBY,SAAS,eAAe,aAAa,EAClD,MAAMG,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAS,SAAS,eAAe,eAAe,EAEtD,IAAIR,EAAO,EACX,MAAMS,EAAW,EAIjB,eAAeC,GAAc,CAC3B,GAAI,CACFC,EAAU,EAEV,MAAMC,EAAO,MAAMb,EAAaC,EAAMS,CAAQ,EACxCI,EAAUD,EAAK,SAAWA,EAEhCE,EAAcD,CAAO,EAEjBA,EAAQ,OAASJ,EACnBF,EAAY,UAAU,IAAI,WAAW,EAErCA,EAAY,UAAU,OAAO,WAAW,EAG1CP,GAAQ,CACV,OAASe,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAChD,QAAC,CACCC,EAAU,CACZ,CACF,CAIA,SAASF,EAAcD,EAAS,CAC9B,GAAI,CAAC,MAAM,QAAQA,CAAO,EAAG,OAE7B,MAAMI,EAASJ,EACZ,IAAI,CAAC,CAAC,IAAAK,EAAK,UAAAC,EAAW,eAAAC,EAAgB,OAAAC,EAAQ,eAAAC,CAAc,IAAM,CACjE,MAAMC,EAAeF,EAClB,IAAIG,GAAS,8BAA8BA,CAAK,SAAS,EACzD,KAAK,EAAE,EAEV,MAAO;AAAA,2CAC8BN,CAAG;AAAA;AAAA,wBAEtBE,CAAc,UAAUD,CAAS;AAAA;AAAA;AAAA;AAAA,yCAIhBI,CAAY;AAAA,sCACfJ,CAAS;AAAA,oCACXG,CAAc;AAAA;AAAA;AAAA;AAAA,OAK9C,CAAC,EACA,KAAK,EAAE,EAEV,YAAY,mBAAmB,YAAaL,CAAM,CACpD,CAIA,SAASN,GAAa,CACpBH,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASQ,GAAa,CACpBR,EAAO,UAAU,IAAI,WAAW,CAClC,CAIAE,EAAW,EAIXH,EAAY,iBAAiB,QAASG,CAAW,EAEjD,YAAY,iBAAiB,QAASe,GAAS,CAC7C,MAAMC,EAAMD,EAAM,OAAO,QAAQ,cAAc,EAC/C,GAAI,CAACC,EAAK,OAEV,MAAMC,EAAOD,EAAI,QAAQ,cAAc,EAClCC,GAEL,gBAAgBA,EAAK,QAAQ,EAAE,CACjC,CAAC"}