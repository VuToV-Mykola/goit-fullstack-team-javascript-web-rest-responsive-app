{"version":3,"file":"index.js","sources":["../src/js/config.js","../src/js/api-artists.js","../src/js/header-mob-menu.js","../src/js/hero.js","../src/js/artists.js","../src/js/artist-modal.js"],"sourcesContent":["export const API_BASE = 'https://sound-wave.b.goit.study/api';\nexport const DEFAULT_PAGE = 1;\nexport const ARTISTS_PAGE_LIMIT = 8;\nexport const REQUEST_TIMEOUT_MS = 10_000;\nexport const FEEDBACKS_LIMIT = 10;\n","import axios from 'axios';\nimport {API_BASE, DEFAULT_PAGE, ARTISTS_PAGE_LIMIT} from './config.js';\n\nexport async function fetchArtists(page = DEFAULT_PAGE, perPage = ARTISTS_PAGE_LIMIT) {\n  const response = await axios.get(`${API_BASE}/artists`, {\n    params: {\n      page,\n      limit: perPage,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchArtistById(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}`);\n  return response.data;\n}\n\nexport async function fetchArtistAlbums(id) {\n  if (!id) throw new Error('Artist id is required');\n\n  const response = await axios.get(`${API_BASE}/artists/${id}/albums`);\n  return response.data;\n}\n\nexport async function fetchGenres() {\n  const response = await axios.get(`${API_BASE}/genres`);\n  return response.data;\n}\n\nexport async function fetchFeedbacks() {\n  try {\n    const response = await axios.get(`${API_BASE}/feedbacks`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to load feedbacks', {cause: error});\n  }\n}\n","document.querySelectorAll('.nav-list a').forEach(link => {\n  link.addEventListener('click', () => {\n    document.getElementById('nav-toggle').checked = false;\n  });\n});\n\n// 4 На мобільних пристроях навігаційне меню ховається в бургер-меню.","/**\n * Підключає плавний скрол до секції #artists по кліку на кнопку Explore Artists.\n */\nfunction setupExploreScroll() {\n  const exploreBtn = document.querySelector('#btn-hero-js');\n\n  if (exploreBtn) {\n    exploreBtn.addEventListener('click', () => {\n      const targetSection = document.querySelector('#artists');\n      if (targetSection) {\n        targetSection.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    });\n  }\n}\n\n// Ініціалізація Hero після завантаження DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupExploreScroll();\n});\n","import {fetchArtists} from './api-artists';\n// import {openArtistModal} from './artist-modal';\n\nconst list = document.getElementById('artistsList');\nconst loadMoreBtn = document.getElementById('loadMoreBtn');\nconst loader = document.getElementById('artistsLoader');\n\nlet page = 1;\nconst PER_PAGE = 8;\n\n// LOAD ARTISTS\n\nasync function loadArtists() {\n  try {\n    showLoader();\n\n    const data = await fetchArtists(page, PER_PAGE);\n    const artists = data.artists || data;\n\n    renderArtists(artists);\n\n    if (artists.length < PER_PAGE) {\n      loadMoreBtn.classList.add('is-hidden');\n    } else {\n      loadMoreBtn.classList.remove('is-hidden');\n    }\n\n    page += 1;\n  } catch (error) {\n    console.error('Failed to load artists:', error);\n  } finally {\n    hideLoader();\n  }\n}\n\n// RENDER\n\nfunction renderArtists(artists) {\n  if (!Array.isArray(artists)) return;\n\n  const markup = artists\n    .map(({_id, strArtist, strArtistThumb, genres, strBiographyEN}) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n        <li class=\"artist-card\" data-id=\"${_id}\">\n          <div class=\"artist-thumb\">\n            <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" class=\"artist-img\" />\n          </div>\n\n          <div class=\"artist-content\">\n            <div class=\"artist-genres\">${genresMarkup}</div>\n            <h3 class=\"artist-name\">${strArtist}</h3>\n            <p class=\"artist-bio\">${strBiographyEN}</p>\n            <button class=\"artist-more\" type=\"button\">Learn more</button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\n// LOADER\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\n// INIT\n\nloadArtists();\n\n// EVENT\n\nloadMoreBtn.addEventListener('click', loadArtists);\n","import {fetchArtistById} from './api-artists';\nimport {fetchArtistAlbums} from './api-artists';\n\nconst albums = await fetchArtistAlbums(artistId);\nconst modalContent = document.querySelector('.modal-content');\nconst closeModalBtn = document.querySelector('.modal-close-btn');\nconst backdrop = document.querySelector('.backdrop');\nconst modalLoader = document.getElementById('modalLoader');\n\nfunction createArtistMarkup(artist) {\n  const {\n    strArtist: artistName,\n    strArtistThumb: artistImage,\n    intFormedYear: formedYear,\n    intDiedYear: endedYear,\n    strGender: gender,\n    intMembers: membersCount,\n    strCountry: country,\n    strBiographyEN: biography,\n    genres,\n  } = artist;\n\n  return `\n    <h2 class=\"artist-name\">${artistName}</h2>\n\n<div class=\"artist-container\">\n  <div class=\"artist-image\">\n    <img src=\"${artistImage}\" alt=\"${artistName || 'Artist'}\" />\n  </div>\n\n  <div class=\"artist-info\">\n    <div class=\"info-row\">\n      <span class=\"label\">Years active</span>\n      <span class=\"value\">${formedYear}-${endedYear === null ? 'present' : endedYear}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Sex</span>\n      <span class=\"value\">${gender}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Members</span>\n      <span class=\"value\">${membersCount}</span>\n    </div>\n\n    <div class=\"info-row\">\n      <span class=\"label\">Country</span>\n      <span class=\"value\">${country}</span>\n    </div>\n\n    <div class=\"info-row info-row--bio\">\n      <span class=\"label\">Biography</span>\n      <span class=\"value\">${biography}</span>\n    </div>\n\n       <div class=\"info-row info-row--genres\">\n    <ul class=\"info-genres\">\n      ${genres.map(genre => `<li class=\"info-genre\">${genre}</li>`).join('')}\n    </ul>\n   </div>\n  </div>\n</div>\n\n\n  `;\n}\n\nexport async function openArtistModal(artistId) {\n  backdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  try {\n    showModalLoader();\n    const artist = await fetchArtistById(artistId);\n    modalContent.innerHTML = createArtistMarkup(artist);\n  } catch (error) {\n    console.log(error);\n    modalContent.innerHTML = `\n      <p class=\"error\">Failed to load artist information</p>\n    `;\n  } finally {\n    hideModalLoader();\n  }\n}\n\nfunction closeModal() {\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n\n  modalContent.innerHTML = '';\n}\n\ncloseModalBtn.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) {\n    closeModal();\n  }\n});\n\nexport function showModalLoader() {\n  modalLoader.classList.remove('is-hidden');\n}\n\nfunction hideModalLoader() {\n  modalLoader.classList.add('is-hidden');\n}\n\nconst list = document.getElementById('artistsList');\n\nartistsList.addEventListener('click', async e => {\n  if (e.target.classList.contains('artist-more')) {\n    const artistCard = e.target.closest('.artist-card');\n    if (!artistCard) return;\n\n    const artistId = artistCard.dataset.id;\n    backdrop.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n    const modalContent = document.querySelector('.modal-content');\n    modalContent.innerHTML = '';\n    showModalLoader();\n\n    try {\n      await openArtistModal(artistId);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});\n"],"names":["API_BASE","DEFAULT_PAGE","ARTISTS_PAGE_LIMIT","fetchArtists","page","perPage","axios","fetchArtistById","id","fetchArtistAlbums","link","setupExploreScroll","exploreBtn","targetSection","loadMoreBtn","loader","PER_PAGE","loadArtists","showLoader","data","artists","renderArtists","error","hideLoader","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","genresMarkup","genre","modalContent","closeModalBtn","backdrop","modalLoader","createArtistMarkup","artist","artistName","artistImage","formedYear","endedYear","gender","membersCount","country","biography","openArtistModal","artistId","showModalLoader","hideModalLoader","closeModal","e","artistCard"],"mappings":"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"}